apply plugin: "groovy"
apply plugin: "maven"

repositories {
  mavenCentral()
  maven {
    url "http://beta.hpcc.uh.edu/nexus/content/repositories/releases"
  }
}

dependencies {
  compile  group: 'org.codehaus.groovy', name: 'groovy-all', version: "2.0.6"
  testCompile group: 'junit', name: 'junit', version: '4.8.2'
}


if (project.hasProperty('pub')) {
    System.err.print "Using configuration data from ${pub}"
    File confFile = new File(pub)
    if (! confFile.exists()) {
        throw new Exception("No publication configuration file ${pub} found.")
    } else {
        apply from: pub
    }

} else {
    File confFile = new File("pub.gradle")
    if (! confFile.exists()) {
        throw new Exception("No publication configuration file ${confFile} found.")
    } else {
        println "Using default configuration in 'pub.gradle'"
        apply from: "pub.gradle"
    }
}


group = "edu.holycross.shot"
version = "2014.1"


uploadArchives {
    repositories.mavenDeployer {
        repository(url: nexusRepo) {                   
            authentication (userName: nexusUser, password: nexusPassword)
        }
    }
}
